package com.example.dodo.geologistica;import android.content.Intent;import android.os.StrictMode;import android.support.v7.app.AppCompatActivity;import android.os.Bundle;import android.util.Log;import android.view.View;import android.widget.ListView;import org.ksoap2.SoapEnvelope;import org.ksoap2.serialization.PropertyInfo;import org.ksoap2.serialization.SoapObject;import org.ksoap2.serialization.SoapPrimitive;import org.ksoap2.serialization.SoapSerializationEnvelope;import org.ksoap2.transport.HttpTransportSE;public class ListaOsTechActivity extends AppCompatActivity {    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_lista_os_tech);        ListaAdapterOs listaAdapterOs = new ListaAdapterOs(this, CONSTS.listOs);        ListView listView = (ListView) findViewById(R.id.listView2);        listView.setAdapter(listaAdapterOs);    }    public void goToMap(View view){        Intent intent = new Intent(this, IndexMapsActivity.class);        startActivity(intent);        setContentView(R.layout.activity_index_maps);    }    public void fecharOs(int idOs){        String SOAP_ACTION = "http://tempuri.org/fecharOs";        String METHOD_NAME = "fecharOs";        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();        try {            SoapObject request = new SoapObject(CONSTS.NAMESPACE, METHOD_NAME);            PropertyInfo p1 = new PropertyInfo();            p1.setName("idOs");            p1.setValue(idOs);            p1.setType(Integer.class);            request.addProperty(p1);            SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);            envelope.dotNet = true;            envelope.setOutputSoapObject(request);            HttpTransportSE androidHttpTransport = new HttpTransportSE(CONSTS.URL);            androidHttpTransport.call(SOAP_ACTION, envelope);            SoapPrimitive obj1 = (SoapPrimitive) envelope.getResponse();            if(obj1.toString().equals("true"))                Log.i("fecharOS", "Os fechada com sucesso - OK");        }catch (Exception e) {            Log.i("fecharOS", e.getMessage());        }    }}